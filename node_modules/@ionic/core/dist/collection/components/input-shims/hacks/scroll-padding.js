const PADDING_TIMER_KEY = '$ionPaddingTimer';
export default function enableScrollPadding(keyboardHeight) {
    console.debug('Input: enableScrollPadding');
    function onFocusin(ev) {
        setScrollPadding(ev.target, keyboardHeight);
    }
    function onFocusout(ev) {
        setScrollPadding(ev.target, 0);
    }
    document.addEventListener('focusin', onFocusin);
    document.addEventListener('focusout', onFocusout);
    return () => {
        document.removeEventListener('focusin', onFocusin);
        document.removeEventListener('focusout', onFocusout);
    };
}
function setScrollPadding(input, keyboardHeight) {
    if (input.tagName !== 'INPUT') {
        return;
    }
    if (input.parentElement.tagName === 'ION-INPUT') {
        return;
    }
    const el = input.closest('.scroll-inner');
    if (!el) {
        return;
    }
    const timer = el[PADDING_TIMER_KEY];
    if (timer) {
        clearTimeout(timer);
    }
    if (keyboardHeight > 0) {
        el.style.paddingBottom = keyboardHeight + 'px';
    }
    else {
        el[PADDING_TIMER_KEY] = setTimeout(() => {
            el.style.paddingBottom = '';
        }, 120);
    }
}
